"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[59],{59:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(439),a=n(393),u=n(791),c=n(565),i=n(689),s=n(87),o=n(804),l="SearchForm_Form__vRFa9",f=n(184),p=function(e){var t=e.onSubmit,n=e.children;return(0,f.jsx)("form",{className:l,onSubmit:t,children:n})},v="SearchInput_Input__u5vx0",m=function(){return(0,f.jsx)("input",{className:v,type:"text",name:"movieName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"May contain only letters, apostrophe, dash and spaces. For example moon",required:!0,autoComplete:"off",autoFocus:!0,placeholder:"Search movie..."})},h="SearchBar_SearchBox__VAwBq",d="SearchBar_ButtonIcon__Lkc0q",_=function(e){var t=e.onSubmit;return(0,f.jsx)("div",{className:h,children:(0,f.jsxs)(p,{onSubmit:t,children:[(0,f.jsx)(m,{}),(0,f.jsx)("button",{className:d,type:"submit","aria-label":"search button",children:(0,f.jsx)(o.dVI,{})})]})})},g="Movies_MovieLink__Gi82k",x="Movies_MovieList__Ue9ug",b=function(){var e,t=(0,i.TH)(),n=(0,s.lr)(),o=(0,r.Z)(n,2),l=o[0],p=o[1],v=null!==(e=l.get("movieName"))&&void 0!==e?e:"",m=(0,u.useState)([]),h=(0,r.Z)(m,2),d=h[0],b=h[1],w=(0,u.useState)(!1),y=(0,r.Z)(w,2),S=y[0],Z=y[1],k=(0,u.useState)(!1),j=(0,r.Z)(k,2),N=j[0],U=j[1];(0,u.useEffect)((function(){""!==v&&(b([]),Z(!0),(0,c.z1)(v).then((function(e){if(!e.results.length)return Z(!1),U(!0),console.log("No movies with this request. Please, try again");U(!1),b(e.results),Z(!1)})))}),[v]);return(0,f.jsxs)("main",{children:[(0,f.jsx)(_,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;p({movieName:t.elements.movieName.value}),t.reset()}}),N&&(0,f.jsx)("p",{children:"There is no movies with this request. Please, try again"}),(0,f.jsxs)("ul",{className:x,children:[d.map((function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(s.rU,{className:g,to:"/movies/".concat(e.id),state:{from:t},children:e.original_title||e.name})},e.id)})),S&&(0,f.jsx)(a.a,{})]})]})}},565:function(e,t,n){n.d(t,{Hg:function(){return s},Jh:function(){return p},TP:function(){return l},z1:function(){return o},zv:function(){return f}});var r=n(861),a=n(757),u=n.n(a),c=n(294),i="f444bfb972ccba3e3bda9c11350cfdac";c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var s=function(){var e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("trending/movie/day?api_key=".concat(i));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("search/movie?api_key=".concat(i,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"?api_key=").concat(i,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"/credits?api_key=").concat(i,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"/reviews?api_key=").concat(i,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=59.162f8d15.chunk.js.map